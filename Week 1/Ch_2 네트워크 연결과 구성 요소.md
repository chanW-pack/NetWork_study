# Ch_2 네트워크 연결과 구성 요소

---

## 2.1 네트워크 연결 구분

네트워크는 규모와 관리 범위에 따라 LAN, MAN, WAN 3가지로 구분한다.

- LAN (Local Area Network)
    - 사용자 내부 네트워크
- MAN (Metro Area Network)
    - 한 도시 정도를 연결하고 관리하는 네트워크
- WAN (Wide Area Network)
    - 멀리 떨어진 LAN을 연결해주는 네트워크

예전에는 LAN, MAN, WAN에서 사용하는 기술이 모두 달라 프로토콜이나 전송 기술에 따라 쉽게 구분이 가능했지만, 현재는 대부분의 기술이 이더넷으로 통합되면서 사용자가 전송 기술을 구분하는 것이 무의미해짐.

따라서 **관리 범위 기준**으로 LAN, MAN, WAN을 구분한다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled.png)

> LAN, MAN, WAN의 구분
> 

---

## 2.2 **네트워크 회선**

- 인터넷 회선
- 전용 회선
- 인터넷 전용 회선
- VPN
- DWDM

### 인터넷 회선

인터넷 접속을 위한 통신사업자와 연결하는 회선을 인터넷 회선이라고 한다.

통신사업자와 케이블만 연결되었다고 인터넷이 가능한 것이 아니라 통신사업자가 판매하는 인터넷와 연결된 회선을 사용해야만 인터넷 접속이 가능하다.

일반 인터넷 회선의 종류는 다음과 같다.

- 광랜(이더넷): 기가 ~ 100Mbps
- FTTH: 기가 ~ 100Mbps
- 동축 케이블 인터넷: 수백~ 수십 Mbps
- xDSL(ADSL, VDSL 등): 수십 ~ 수 Mbps

---

### 전용 회선

가입자와 통신사업자 간에 대역폭을 보장해주는 서비스를 대부분 전용 회선이라고 한다.

가입자와 통신사업자 간에는 전용 케이블로 연결되어 있고 통신사업자 내부에서 TDM(시분할 다중화: Time Division Multiplexing) 같은 기술로 마치 직접 연결한 것처럼 통신 품질을 보장해준다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%201.png)

> 가입자-회선 사업자, 가입자-가입자 연결을 위해 전용 회선을 사용한다.
> 

---

### 인터넷 전용 회선

인터넷 연결 회선에 대한 통신 대역폭을 보장해주는 상품을 인터넷 전용 회선이라고 한다.

가입자가 통신사업자와 연결되고, 이 연결이 다시 인터넷과 연결되는 구조이다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%202.png)

> 인터넷 연결을 위한 회선이 통신사업자와 가입자 간에 전용으로 연결되어 있다.
> 

가입자가 일반가정에서 사용하는 접속 기술과 달리 다른 가입자와 경쟁하지 않고 통신사업자와 가입자 간의 연결 품질을 보장해준다.

---

### VPN

VPN은 VIrtual Private Network의 약자로 물리적으로는 전용선이 아니지만 **가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술**이다.

1. 통신사업자 VPN
    
    전용선은 연결 거리가 늘어날수록 비용이 증가한다. 전용선은 사용 가능한 대역포을 보장해주지만, 가입자가 계약된 대역폭을 항상 100% 사용하는 것이 아니라서 낭비되는 비용이 클 수 있다.
    
    이런 낭비를 줄이고 비용을 줄이기 위해 통신사업자가 직접 가입자를 구분할 수 있는 VPN기술을 사용해 비용을 낮추고 있다. 대표적인 기술이 MPLS VPN이다.
    
    ![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%203.png)
    
    > MPLS VPN. 여러 가입자가 하나의 MPLS 망에 접속되지만 가입자를 구분할 수 있는 기술을 적용해 전용선처럼 사용할 수 있다.
    > 
    
    이 기술을 이용하면 여러 가입자가 하나의 망에 접속해 통신하므로 공용 회선을 함께 이용하게 되어 비용이 낮아진다.
    
2. 가입자 VPN
    
    일반 사용자가 VPN을 사용한다면 대부분 가입자VPN 기술이다.
    
    일반 인터넷망을 이용해 사용자가 직접 가상 전용 네트워크를 구성 할 수 있다.
    
    ![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%204.png)
    

> VPN을 통해 일반 인터넷 회선을 전용망처럼 구성해 사용한다.
> 

---

### DWDM

DWDM(Dense Wavelength Division Multiplex: 파장 분할 다중화) 전송 기술은 먼 거리를 통신할 때 케이블 포설 비용이 매우 많이 들고 관리가 어려운 문제를 극복하기 위해 개발되었다.

통신사업자는 많은 가입자를 구분하고 높은 대역폭의 통신을 제공해야 하므로 여러 개의 케이블을 포설해야 했고, 이런 물리적인 케이블을 포설하는데 어려움이 있었다.

WDM과 DWDM 기술은 **하나의 광케이블에 다른 파장의 빛을 통해 여러 채널을 만드는 동시에 많은 데이터를 전송**할 수 있다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%205.png)

> DWDM 기술 개념. 하나의 케이블에 다른 파장의 빛으로 여러 채널의 통신을 실어 전달할 수 있다.
> 

DWDM 전송 기술은 기존 WDM보다 더 많은 채널을 이용하느 기술이다. 최근에는 일반가정에서 사용하는 기가 인터넷에서도 사용된다.

---

## 2.3 네트워크 구성 요소

- 네트워크 인터페이스 카드(NIC)
- 케이블과 커넥터
- 허브
- 스위치
- 라우터
- 로드 밸런서
- 보안 장비(방화벽/IPS)
- 기타(모뎀/공유기 등)

### 네트워크 인터페이스 카드(NIC)

흔히 랜 카드라고 부르는 부품의 정식 명칭은 네트워크 인터페이스 카드(Network Interface Care, NIC)이다. 이외에도 네트워크 카드(Network Card), 네트워크 인터페이스 컨트롤러(Network Interface Controller, NIC)이라고도 부른다.

네트워크 인터페이스 카드는 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치이다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%206.png)

> (a) PC 내장형 네트워크 인터페이스 카드, (b) 네트워크 인터페이스 카드, (c) 서버용 네트워크 인터페이스 카드(10G)
> 

네트워크 인터페이스 카드의 주요 역할은 다음과 같다.

- 직렬화(Serialization)
    - 네트워크 인터페이스 카드는 전기적 신호를 데이터 신호 형태로 또는 반대로 변환해준다.
    - 네트워크 카드 외부 케이블에서는 전기 신호 형태로 데이터가 전송되는데 이런 상호 변환작업을 직렬화라고 한다.
- MAC 주소
    - 네트워크 인터페이스 카드는 MAC 주소를 가지고 있다. 받은 패킷의 도착지 주소가 MAC 주소가 아니라면 폐기하고, 자신의 주소가 맞으면 시스템 내부에서 처리할 수 있도록 전달한다.
- 흐름 제어(Flow Control)
    - 패킷 기반 네트워크에서는 다양한 통신이 하나의 채널을 이용하므로 이미 통신 중인 데이터 처리 때문에 새로운 데이터를 받지 못할 수 있다.
    - 이 현상을 방지하고자 상대방에게 통신 중지를 요청할 수 있는데 이를 흐름 제어라고 한다.
    
    ---
    
    ### 케이블과 커넥터
    
    케이블은 트위스티드 페어 케이블, 동축 케이블, 광케이블 3가지가 있다.
    

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%207.png)

> 케이블의 종류
> 

현재 가장 많이 사용되는 네트워크 기술인 이더넷 방식으로 사용되기 위한 케이블을 중심으로 대중적으로 많이 사용되는 표준은 3가지이다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%208.png)

> 기가비트 이더넷 및 10기가비트 이더넷 표준, 케이블 종류
> 

- 1,000BASE-T / 10GBASE-T
    - 트위스티드 페어 케이블을 이용하는 이더넷 표준이다.
- 1,000BASE-SX / 10GBASE-SR
    - 멀티보드 광케이블을 사용하고 비교적 짧은 거리를 보낼 수 있는 이더넷 표준이다.
- 1,000BASE-LX / 10GBASE-LR
    - 싱글모드 광케이블을 사용하고 비교적 긴 거리를 보낼 수 있는 이더넷 표준이다.
    

기가비트 이더넷 표준 중 하니인 1,000BASE-T로 명칭을 설명하자면, 앞 숫자 1,000은 속도를 나타낸다. (1000Mbs) 중간 문자는 채널의 종류에 대한 것으로 Base는 단일채널을 의미하고 Broad는 다채널 통신을 나타낸다. 마지막 문자 T는 트위스티드 페어(Twisted Pair) 케이블을 나타낸다.

마지막 문자에 의해 케이블과 광신호, 트랜시버의 종류가 달라진다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%209.png)

> 1,000BASE-T의 의미
> 

---

케이블은 물리적으로 케이블 본체, 커넥터, 트랜시버와 같은 여러 요소로 나뉜다. 본체는 트위스티드 페어, 동축, 광케이블로 나뉘고 케이블 본체의 종류에 따라 커넥터와 트랜시버의 종류도 함께 달라진다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2010.png)

> 트랜시버, 커넥터, 케이블 본체 3개 부분이 모두 분리되어 있거나 하나로 합쳐진 형태도 있다.
> 

---

### 케이블 - 트위스티드 페어 케이블

가장 흔히 사용되는 케이블은 트위스티드 페어 케이블이다. TP케이블은 쉴드를 장착한 STP/FTP 케이블 종류와 쉴드가 없는 UTP 케이블이 있다.

이 케이블을 컴퓨터나 서버에 있는 랜포트에 끼우면 네트워크에 연결된다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2011.png)

> 가장 흔히 사용하는 트위스티드 페어 케이블(RJ-45잭)
> 

TP케이블은 그물 형태의 쉴드가 있는 STP와 포일 형태의 쉴드가 있는 FTP, 쉴드가 없는 UTP로 구분된다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2012.png)

> (a) UPT 케이블, (b) FTP 케이블, (c) S/FTP는 이중 차폐와 접지선, 외부 쉴드 모두가 있는 케이블이다.
> 

---

### 케이블 - 동축 케이블

동축 케이블은 케이블TV와 연결할 때 사용되는 두꺼운 검정 케이블과 같은 종류로 고가로 잘 사용되지 않고 케이블 TV나 인터넷 연결을 위해서만 사용되어 왔다.

최근 10G 이상의 고속 연결을 위해 트랜시버를 통합한 DAC(Direct Attach Copper Cable) 케이블을 많이 사용한다.

---

### 케이블 - 광케이블

광케이블은 일반적으로 다른 구리선(UTP, 동축)보다 신뢰도가 높고 더 먼 거리까지 통신할 수 있어 높은 대역폭을 요구하거나 먼 거리를 통신해야 하는 네트워크 장비 간에 통신에 주로 이용된다.

광케이블은 싱글모드와 멀티모드 2가지로 나뉘는데 

싱글모드는 먼 거리를 지원하기 위해 굵기가 매우 가늘고 레이저로 신호를 보낸다. 

멀티모드는 굵은 케이블을 사용하며, 광원으로 LED를 사용한다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2013.png)

> 싱글모드와 멀티모드의 특징
> 

---

### 커넥터

커넥터는 케이블의 끝부분으로 네트워크 장비나 네트워크 카드에 연결되는 부분이다.

트위스티드 페어 케이블에서는 RJ-45커넥터를 사용하지만 광케이블은 다양한 커넥터가 있다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2014.png)

> 커넥터와 네트워크 장비 연결, 케이블 변경에 따른 커넥터의 변화
> 

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2015.png)

> 다양한 광케이블 커넥터
> 

---

### 트랜시버

트랜시버는 다양한 외부 신호를 컴퓨터 내부의 전기 신호로 바꾼다. 

트랜시버 중 하난인 GBIC(지빅)은 초기 개발된 모듈 이름이고 이후엔 SPF나 SPF+같은 상위 표준이 나왔지만 일반적으로 트랜시버 전체를 GBIC으로 통칭해 부르기도 한다.

광케이블뿐만 아니라 트위스티드 페어 케이블도    수용할 수 있는 트랜시버를 GLC-TE라고 부른다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2016.png)

> 다양한 트랜시버의 종류와 형태
> 

---

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2017.png)

> GLC-TE, TP GBIC으로도 불린다. 트위스티드 페어 케이블을 수용할 수 있다.
> 

### 허브

허브는 케이블과 동일한 1계층에서 동작하는 장비이다. 허브는 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고 HUB라는 용어 그대로 여러 대의 장비를 연결할 목적으로 사용된다.

허브는 단순히 들어온 신호를 모든 포트로 내보내 네트워크에 접속된 모든 단말이 경쟁하게 되므로 전체 네트워크 성능이 줄어드는 문제가 있고, 패킷이 무한 순환해 네트워크 전체를 마비시키는 루프와 같은 다양한 장애의 원인이 될 수 있어 현재는 거의 사용하지 않는다.

---

### 스위치

스위치(Switch)는 허브와 동일하게 여러 장비를 연결하고 통신을 중재하는 2계층 장비이다.

허브와 스위치는 내부 동작 방식은 다르지만 여러 장비를 연결하고 케이블을 한곳으로 모아주는 역할은 같으므로 ‘허브’라는 용어를 공통적으로 사용한다. 스위치는 허브의 역할과 통신을 중재하는 2가지 역할을 모두 포함하므로 스위칭 허브로도 불린다.

허브는 단순히 전기 신호를 재생성해 모든 포트에 내보내지만 스위치는 MAC주소를 이해할 수 있어 목적지 MAC주소의 위치를 파악하고 목적지가 연결된 포트로만 전기 신호를 보낸다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2018.png)

> 허브와 스위치 통신의 차이점. 허브는 모든 포트로 신호를 보내고 스위치는 목적지로만 보냄.
> 

---

### 라우터

라우터는 OSi 7계층 중 3계층에서 동작하면서 먼 거리로 통신할 수 있는 프로토콜로 변환한다.

라우터는 원격지로 쓸데없는 패킷이 전송되지 않도록 브로드캐스트와 멀티캐스트를 컨트롤하고 불분명한 주소로 통신을 시도할 경우, 이를 버린다.

정확한 방향으로 패킷이 전송되도록 경로를 지정하고 최적의 경로로 패킷을 포워딩한다.

![Untitled](Ch_2%20%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%208948c/Untitled%2019.png)

> 라우터의 역할. 네트워크 주소 확인 후 경로 지정
> 

---

### 로드 밸런서

일반적으로 로드 밸런서는 OSI 7계층 중 4계층에서 동작한다. 

로드 밸런서는 4계층 포트 주소를 확인하는 동시에 IP주소를 변경할 수 있다. 로드 밸런서가 가장 많이 사용되는 서비스는 웹이다.

애플리케이션 관련 7계층 로드 밸런서를 ADC(Application Delivery Controller)라고 부르고, L4스위치 라고 부르는 네트워크 장비도 로드 밸런서의 한 종류이다. 

스위치처럼 여러 포트를 가지고 있으면서 로드 밸런서 역할을 하는 장비를 지칭한다고 할 수 있다.

---

### 보안 장비(방화벽/IPS)

정확한 정보 전달에 초점이 맞추어진 대부분의 네트워크 장비들과는 다르게 보안 장비는 정보를 잘 제어하고 공격을 방어하는데 초점이 맞춰져 있다.

일반적으로 가장 유명한 보안 장비는 방화벽이다. 방화벽은 OSI 7계층 중 4계층에서 동작해 방화벽을 통과하는 패킷의 3,4계층 정보를 확인하고 패킷을 정책과 비교해 버리거나 포워딩한다.

---

### 기타(모뎀/공유기 등)

거의 모든 가정이나 회사에서 사용하는 공유기는 2계층 스위치, 3계층 라우터, 4계층 NAT와 간단한 방화벽 기능을 한곳에 모아놓은 장비이다.

모뎀은 짧은 거리를 통신하는 기술과 먼 거리를 통신할 수 있는 기술이 달라 이를 변환시켜주는 장비이다.

공유기의 LAN포트와 WAN포트 모두 일반 이더넷이여서 100m이상 먼 거리로 데이터를 보내지 못하므로 먼 거리 통신이 가능한 기술로 변환해주는 모뎀이 별도로 필요하다.

기가 인터넷의 경우 대부분 FTTH 모뎀을 사용하고, 동축 케이블 인터넷은 케이블 모뎀, 전화선을 사용할 경우 ADSL, VDSL 모뎀을 사용한다.

---